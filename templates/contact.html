<section id="contact" style="position: relative; z-index: 2; min-height: 50vh;">
    <div class="container-fluid px-4 px-lg-5 pt-5 pb-5"> 
        
        <div class="matrix-container text-center">
            
            <div id="contact-trigger" class="py-5" style="cursor: pointer;" onclick="initiateContactProtocol()">
                <h2 class="display-5 fw-bold mb-3 matrix-text-glow">
                    <i class="fas fa-network-wired me-3"></i>¿QUIERES UN PORTFOLIO COMO ESTE?
                </h2>
                <p class="fs-4 text-success mb-4">
                    No seas un usuario más. Conecta con el administrador.
                </p>
                <button class="btn btn-matrix btn-lg px-5 py-3">
                    <i class="fas fa-terminal me-2"></i> > ./init_contact_protocol.sh
                </button>
            </div>

            <div id="terminal-loader" class="text-start mx-auto p-4 d-none" style="max-width: 600px; font-family: 'Share Tech Mono', monospace;">
                <p class="text-success mb-1" id="log-line-1"></p>
                <p class="text-success mb-1" id="log-line-2"></p>
                <p class="text-success mb-1" id="log-line-3"></p>
                <p class="text-success mb-0 fw-bold blink-cursor" id="log-line-4"></p>
            </div>

            <div id="contact-form-wrapper" class="d-none fade-in-matrix">
                <div class="row align-items-center g-lg-5 mt-3">
                    
                    <div class="col-lg-6 text-center text-lg-start">
                        <h2 class="display-4 fw-bold lh-1 mb-3">CONEXIÓN ESTABLECIDA</h2>
                        <p class="fs-4"> 
                            El canal es seguro. Envíame tu propuesta o duda y te responderé antes de que Matrix se reinicie.
                        </p>
                    </div> 

                    <div class="col-md-10 mx-auto col-lg-6">
                        <form class="p-4 border border-success" style="background: rgba(0,20,0,0.4);" method="post" action="{{url_for('send_mail')}}">
                            <div class="mb-3 text-start">
                                <label for="name" class="form-label">> Nombre_usuario:</label>
                                <input type="text" class="form-control" id="name" name="name" required placeholder="_">
                            </div>
                            <div class="mb-3 text-start">
                                <label for="email" class="form-label">> Correo_destino:</label>
                                <input type="email" class="form-control" id="email" name="email" required placeholder="@">
                            </div>
                            <div class="mb-3 text-start">
                                <label for="message" class="form-label">> Cargar_mensaje:</label>
                                <textarea class="form-control" id="message" name="message" rows="5" required placeholder="Escribe aquí..."></textarea>
                            </div>
                            
                            <button type="submit" class="btn btn-primary w-100">ENVIAR DATOS ENCRIPTADOS</button>
                        </form>  
                    </div>              
                </div>
            </div>

        </div> 
    </div>
</section>
<script>
    // 2. PROTOCOLO DE CONTACTO
    function initiateContactProtocol() {
        document.getElementById('contact-trigger').classList.add('d-none');
        const loader = document.getElementById('terminal-loader');
        loader.classList.remove('d-none');

        const lines = [
            { id: 'log-line-1', text: '> Resolving host: jose-cabezas.server...', delay: 500 },
            { id: 'log-line-2', text: '> Handshaking with SSL certificate...', delay: 1500 },
            { id: 'log-line-3', text: '> Encrypting transmission channel [2048-bit]...', delay: 2500 },
            { id: 'log-line-4', text: '> ACCESS GRANTED. LOAD FORM.', delay: 3500 }
        ];

        lines.forEach(line => {
            setTimeout(() => {
                document.getElementById(line.id).innerText = line.text;
            }, line.delay);
        });

        setTimeout(() => {
            loader.classList.add('d-none');
            document.getElementById('contact-form-wrapper').classList.remove('d-none');
        }, 4500);
    }
</script>